@page
@using Microsoft.AspNetCore.Identity 
@model Merit.Web.Pages.AddJobAdvertisementModel
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@{
    var user = UserManager.GetUserAsync(User);
}

<h3>Lägg till en annons</h3>
<hr />

<form method="post">
    <div class="row">
        <div class="col-lg-5">
            <div class="justify-content-between mb-2">
                <input type="hidden" asp-for="@Model.CompanyAdd.CompanyUserId" value="@Model.CompanyUserId" />
                <label>Roll:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.Profession" placeholder="Yrkesroll" />
            </div>
            <div class="justify-content-between mb-2">
                <label>Placering:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.Place" placeholder="Placering/ort" />
            </div>
            <div class="justify-content-between mb-2">
                <label>Omfattning:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.Extent" placeholder="Heltid, deltid etc" />
            </div>
            <div class="justify-content-between mb-2">
                <label>Varaktighet:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.Duration" placeholder="3 mån, Fast tjänst etc" />
            </div>
            <div class="justify-content-between mb-2">
                <label>Anställningsform:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.FormOfEmployment" placeholder="Tillsvidareanställning, vikariat etc" />
            </div>

            <div class="justify-content-between mb-2">
                <label>Information:</label>
                <textarea style="resize: none" class="form-control" type="text" asp-for="@Model.CompanyAdd.Information" placeholder="Beskrivning av tjänsten" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="accountType">Lägg till merit</label><br />
                @foreach (var merit in Model.CompanyMerits)
                {
                    <input name="MeritsId" type="checkbox" value="@merit.CompanyMeritId" />
                    <label>@merit.Description</label><br />
                }
            </div>
            <div class="form-group">
                <label for="accountType">Lägg till want</label><br />
                @foreach (var want in Model.CompanyWants)
                {
                    <input name="WantsId" type="checkbox" value="@want.CompanyWantsId" />
                    <label>@want.Want</label><br />
                }
            </div>
            <div class="justify-content-between mb-2">
                <label>Lön:</label>
                <input class="form-control" type="text" asp-for="@Model.CompanyAdd.Salary" placeholder="Löneinformation" />
            </div>
        </div>
    </div>
    <p></p>
    <div class="justify-content-between mb-2">
        <button class="btn btn-primary" type="submit">Lägg till annons</button>
        <a class="btn btn-primary" asp-page="/companyinfopage">Företagsinfo</a>
        @if (1 != 1)
        {
            <meta http-equiv="refresh" content="1">
            <div style="color: limegreen">
                <b>Annons skapad!</b>
            </div>
        }
    </div>
</form>
